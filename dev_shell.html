
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FG-Shell Development &mdash; FutureGrid Rain 1.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-2.3.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="FutureGrid Rain 1.0.1 documentation" href="index.html" />
    <link rel="up" title="Rain Documentation" href="documentation.html" />
    <link rel="next" title="Changelog and Release Notes" href="changelog.html" />
    <link rel="prev" title="Building the Rain Documentation" href="build_doc.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
<div class="container">
  
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="brand" href="index.html">FutureGrid Rain</a>
      <span class="navbar-text pull-left"><b>1.0.1</b></span>

      <div class="nav-collapse">
        <ul class="nav">
          <li class="divider-vertical"></li>
          
            <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whatis.html">What is FutureGrid Rain?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#rain">Rain</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-management">Image Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-generation">Image Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-repository">Image Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-registration">Image Registration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Rain QuickStart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#fg-shell-vs-command-line-interfaces">FG-Shell vs Command Line Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-image-repository">Using Image Repository</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#upload-an-image">Upload an image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#get-an-image">Get an image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#modify-the-metadata-of-an-image">Modify the metadata of an image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#query-image-repository">Query Image Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#add-user-to-the-image-repository">Add user to the Image Repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-image-generation">Using Image Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#generate-a-centos-image">Generate a CentOS image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#generate-an-ubuntu-image">Generate an Ubuntu image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-image-registration">Using Image Registration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#list-information-of-the-available-sites">List Information of the available sites</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#register-an-image-for-the-hpc-infrastructure-india">Register an image for the HPC Infrastructure India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#register-an-image-for-openstack">Register an image for OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#customize-images-for-eucalyptus">Customize images for Eucalyptus</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#register-an-image-for-nimbus">Register an image for Nimbus</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#list-available-kernels-for-the-hpc-infrastructure-india">List available kernels for the HPC infrastructure India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#list-available-kernels-for-openstack">List available kernels for OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#deregister-an-image-from-openstack">Deregister an image from OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#deregister-an-image-from-hpc">Deregister an image from HPC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-rain">Using RAIN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-a-job-in-four-nodes-on-india">Run a job in four nodes on India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-a-job-in-two-nodes-on-india-using-an-image-already-registered-in-the-hpc-infrastructure-india">Run a job in two nodes on India using an image already registered in the HPC Infrastructure India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#interactive-mode">Interactive mode.</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-an-mpi-job">Run an MPI job</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quickstart.html#hadoop-examples">Hadoop Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#id3">Interactive mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-hadoop-on-hpc">Run Hadoop on HPC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Rain Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="documentation.html#user-documentation">User Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="man-repo.html">Image Repository (fg-repo)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-repo.html#fg-repo">fg-repo</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-repo.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-generate.html">Image Generation (fg-generate)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-generate.html#fg-generate">fg-generate</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-generate.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-register.html">Image Registration (fg-register)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-register.html#fg-register">fg-register</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-register.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-rain.html">Rain (fg-rain)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-rain.html#fg-rain">fg-rain</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-rain.html#examples">Examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="man-rain.html#hadoop-examples">Hadoop Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-shell.html">FutureGrid Shell (fg-shell)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#fg-shell">fg-shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#generic-commands">Generic Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#image-repository">Image Repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#image-generation">Image Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#image-register">Image Register</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#rain">Rain</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#administrator-documentation">Administrator Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html">Installing FutureGrid Rain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-easy-install">Using <tt class="docutils literal"><span class="pre">easy_install</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-a-source-tarball">Using a source tarball</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#tracking-latest-code-from-github">Tracking latest code from GitHub</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configure_futuregrid.html">Setting up the FutureGrid Software</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#configuration-files">Configuration Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-ldap">Setting up LDAP</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#server-side">Server Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#client-side">Client Side</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-an-http-server">Setting up an http Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-image-repository">Setting up the Image Repository</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#imagerepo-config">Server Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#imagerepository-client-conf">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#image-repository-check-list">Image Repository Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-image-generator">Setting up the Image Generator</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id3">Server Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id4">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#image-generation-check-list">Image Generation Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-image-registrator">Setting up the Image Registrator</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#server-side-for-cloud-infrastructures">Server Side for Cloud infrastructures</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#server-side-for-hpc-infrastructures">Server Side for HPC infrastructures</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id5">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#image-registration-check-list">Image Registration Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-rain">Setting up the Rain</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id6">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#rain-check-list">Rain Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-futuregrid-shell">Setting up the FutureGrid Shell</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#futuregrid-shell-check-list">FutureGrid Shell Check List</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="install_repobackend.html">Installing Image Repository Backends</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install_repobackend.html#deployment-of-mongodb">Deployment of MongoDB</a><ul>
<li class="toctree-l5"><a class="reference internal" href="install_repobackend.html#install-mongodb-on-rhel">Install MongoDB on RHEL</a></li>
<li class="toctree-l5"><a class="reference internal" href="install_repobackend.html#install-mongodb-on-ubuntu-10-10">Install MongoDB on Ubuntu 10.10</a></li>
<li class="toctree-l5"><a class="reference internal" href="install_repobackend.html#install-mongodb-on-macosx">Install MongoDB on MacOSX</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="install_repobackend.html#deployment-of-cumulus">Deployment of Cumulus</a></li>
<li class="toctree-l4"><a class="reference internal" href="install_repobackend.html#deployment-of-mysql">Deployment of MySQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="install_repobackend.html#deployment-of-swift">Deployment of Swift</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="config_ref_index.html">Configuration file reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="config_ref_server.html"><tt class="docutils literal"><span class="pre">fg-server.conf</span></tt> configuration file</a><ul>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-ldap">Section <tt class="docutils literal"><span class="pre">[LDAP]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ldaphost">Option <tt class="docutils literal"><span class="pre">LDAPHOST</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ldapuser">Option <tt class="docutils literal"><span class="pre">LDAPUSER</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ldappass">Option <tt class="docutils literal"><span class="pre">LDAPPASS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-log">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-test">Option <tt class="docutils literal"><span class="pre">test</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-reposerver">Section <tt class="docutils literal"><span class="pre">[RepoServer]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-port">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-proc-max">Option <tt class="docutils literal"><span class="pre">proc_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-refresh">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-authorizedusers">Option <tt class="docutils literal"><span class="pre">authorizedusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-nopasswdusers">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-backend">Option <tt class="docutils literal"><span class="pre">backend</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id1">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-log-level">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ca-cert">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-certfile">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-keyfile">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-restconffile">Option <tt class="docutils literal"><span class="pre">restConfFile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-cumulusmongo">Section <tt class="docutils literal"><span class="pre">[cumulusmongo]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-address">Option <tt class="docutils literal"><span class="pre">address</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-useradmin">Option <tt class="docutils literal"><span class="pre">userAdmin</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-configfile">Option <tt class="docutils literal"><span class="pre">configFile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-addresss">Option <tt class="docutils literal"><span class="pre">addressS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-useradmins">Option <tt class="docutils literal"><span class="pre">userAdminS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-configfiles">Option <tt class="docutils literal"><span class="pre">configFileS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-imgstore">Option <tt class="docutils literal"><span class="pre">imgStore</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-generateserver">Section <tt class="docutils literal"><span class="pre">[GenerateServer]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id2">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id3">Option <tt class="docutils literal"><span class="pre">proc_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id4">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-wait-max">Option <tt class="docutils literal"><span class="pre">wait_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id5">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-vmfile-os-name">Option <tt class="docutils literal"><span class="pre">vmfile_&lt;os-name&gt;</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-xmlrpcserver">Option <tt class="docutils literal"><span class="pre">xmlrpcserver</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-bridge">Option <tt class="docutils literal"><span class="pre">bridge</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-addrnfs">Option <tt class="docutils literal"><span class="pre">addrnfs</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-tempdirserver">Option <tt class="docutils literal"><span class="pre">tempdirserver</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-tempdir">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-http-server">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-oneuser">Option <tt class="docutils literal"><span class="pre">oneuser</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-onepass">Option <tt class="docutils literal"><span class="pre">onepass</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id6">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id7">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id8">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id9">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id10">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-registerserverxcat">Section <tt class="docutils literal"><span class="pre">[RegisterServerXcat]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-xcat-port">Option <tt class="docutils literal"><span class="pre">xcat_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-xcatnetbootimgpath">Option <tt class="docutils literal"><span class="pre">xcatNetbootImgPath</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id11">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id12">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id13">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id14">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-test-mode">Option <tt class="docutils literal"><span class="pre">test_mode</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-default-xcat-kernel-os-name">Option <tt class="docutils literal"><span class="pre">default_xcat_kernel_&lt;os-name&gt;</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-auth-kernels-os-name">Option <tt class="docutils literal"><span class="pre">auth_kernels_&lt;os-name&gt;</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id15">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id16">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id17">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id18">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-max-diskusage">Option <tt class="docutils literal"><span class="pre">max_diskusage</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-protectedimg">Option <tt class="docutils literal"><span class="pre">protectedimg</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-registerservermoab">Section <tt class="docutils literal"><span class="pre">[RegisterServerMoab]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-moab-port">Option <tt class="docutils literal"><span class="pre">moab_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-moabinstallpath">Option <tt class="docutils literal"><span class="pre">moabInstallPath</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id19">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id20">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id21">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id22">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id23">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-registerserveriaas">Section <tt class="docutils literal"><span class="pre">[RegisterServerIaas]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id24">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id25">Option <tt class="docutils literal"><span class="pre">proc_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id26">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id27">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id28">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id29">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id30">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id31">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id32">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id33">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#sections-iaas-such-as-iaas-india-or-iaas-sierra">Sections <tt class="docutils literal"><span class="pre">[Iaas-*]</span></tt> such as <tt class="docutils literal"><span class="pre">[Iaas-india]</span></tt> or <tt class="docutils literal"><span class="pre">[Iaas-sierra]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-description">Option <tt class="docutils literal"><span class="pre">description</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-default-infrastructure-name-kernel">Option <tt class="docutils literal"><span class="pre">default_&lt;infrastructure-name&gt;_kernel</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-infrastructure-name-auth-kernels">Option <tt class="docutils literal"><span class="pre">&lt;infrastructure-name&gt;_auth_kernels</span></tt></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="config_ref_client.html"><tt class="docutils literal"><span class="pre">fg-client.conf</span></tt> configuration file</a><ul>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-fg-shell">Section <tt class="docutils literal"><span class="pre">[fg-shell]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-history">Option <tt class="docutils literal"><span class="pre">history</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-log">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-log-level">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-script">Option <tt class="docutils literal"><span class="pre">script</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-ldap">Section <tt class="docutils literal"><span class="pre">[LDAP]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-ldaphost">Option <tt class="docutils literal"><span class="pre">LDAPHOST</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id1">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-test">Option <tt class="docutils literal"><span class="pre">test</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-repo">Section <tt class="docutils literal"><span class="pre">[Repo]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-port">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-serveraddr">Option <tt class="docutils literal"><span class="pre">serveraddr</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id2">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id3">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-ca-cert">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-certfile">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-keyfile">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-generation">Section <tt class="docutils literal"><span class="pre">[Generation]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id4">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id5">Option <tt class="docutils literal"><span class="pre">serveraddr</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id6">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id7">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id8">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id9">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id10">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-register">Section <tt class="docutils literal"><span class="pre">[Register]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-xcat-port">Option <tt class="docutils literal"><span class="pre">xcat_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moab-port">Option <tt class="docutils literal"><span class="pre">moab_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-iaas-serveraddr">Option <tt class="docutils literal"><span class="pre">iaas_serveraddr</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-iaas-port">Option <tt class="docutils literal"><span class="pre">iaas_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-tempdir">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-http-server">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id11">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id12">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id13">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id14">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id15">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#sections-hpc-such-as-hpc-minicluster-and-hpc-india">Sections <tt class="docutils literal"><span class="pre">[Hpc-*]</span></tt> such as <tt class="docutils literal"><span class="pre">[Hpc-minicluster]</span></tt> and <tt class="docutils literal"><span class="pre">[Hpc-india]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-loginmachine">Option <tt class="docutils literal"><span class="pre">loginmachine</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moabmachine">Option <tt class="docutils literal"><span class="pre">moabmachine</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-xcatmachine">Option <tt class="docutils literal"><span class="pre">xcatmachine</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-rain">Section <tt class="docutils literal"><span class="pre">[Rain]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moab-max-wait">Option <tt class="docutils literal"><span class="pre">moab_max_wait</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moab-images-file">Option <tt class="docutils literal"><span class="pre">moab_images_file</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-loginnode">Option <tt class="docutils literal"><span class="pre">loginnode</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id16">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-refresh">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id17">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id18">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="config_ref_restrepo.html">Image Repository Rest Interface configuration file</a><ul>
<li class="toctree-l5"><a class="reference internal" href="config_ref_restrepo.html#section-global">Section <tt class="docutils literal"><span class="pre">[Global]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-log-error-file">Option <tt class="docutils literal"><span class="pre">log.error_file</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-log-accessfile">Option <tt class="docutils literal"><span class="pre">log.accessfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-socket-host">Option <tt class="docutils literal"><span class="pre">server.socket_host</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-socket-port">Option <tt class="docutils literal"><span class="pre">server.socket_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-thread-pool">Option <tt class="docutils literal"><span class="pre">server.thread_pool</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-ssl-module">Option <tt class="docutils literal"><span class="pre">server.ssl_module</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-ssl-certificate">Option <tt class="docutils literal"><span class="pre">server.ssl_certificate</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-ssl-private-key">Option <tt class="docutils literal"><span class="pre">server.ssl_private_key</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modules_india.html">Configuring a Module for FutureGrid Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="build_doc.html">Building the Rain Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="documentation.html#developer-documentation">Developer Documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">FG-Shell Development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#requirement">Requirement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-your-component-functionality-as-a-new-module">Add Your Component Functionality as a New Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#contexts">Contexts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-file">Log File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commit-the-changes">Commit the Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#others">Others</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html">Changelog and Release Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id1">1.0.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id2">1.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="download.html#sample-files">Sample files</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html#development-version">Development version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html#known-problems">Known problems</a></li>
</ul>
</ul>
</li>
            <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">FG-Shell Development</a><ul>
<li><a class="reference internal" href="#requirement">Requirement</a></li>
<li><a class="reference internal" href="#add-your-component-functionality-as-a-new-module">Add Your Component Functionality as a New Module</a></li>
<li><a class="reference internal" href="#contexts">Contexts</a></li>
<li><a class="reference internal" href="#log-file">Log File</a></li>
<li><a class="reference internal" href="#commit-the-changes">Commit the Changes</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          
          
            
  <li><a href="build_doc.html"
         title="previous chapter">&laquo; Building the Rain Documentation</a></li>
  <li><a href="changelog.html"
         title="next chapter">Changelog and Release Notes &raquo;</a></li>
          
          
        </ul>

        
          
<form class="navbar-search pull-right" style="margin-bottom:-3px;" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

  
  <div class="section" id="fg-shell-development">
<span id="chap-dev-shell"></span><h1>FG-Shell Development<a class="headerlink" href="#fg-shell-development" title="Permalink to this headline">¶</a></h1>
<p>In this section we explain how to develop a new module for the FutureGrid Shell. More information can be found in the <a class="reference internal" href="man-shell.html#man-shell"><em>FutureGrid Shell Manual</em></a>.</p>
<div class="section" id="requirement">
<h2>Requirement<a class="headerlink" href="#requirement" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Download the FutureGrid code:</p>
<div class="highlight-python"><pre>git clone git@github.com:futuregrid/rain.git</pre>
</div>
</li>
<li><p class="first">Create a branch</p>
<div class="highlight-python"><pre>git checkout -b &lt;branch_name&gt;</pre>
</div>
</li>
<li><p class="first">Install in developer mode:</p>
<div class="highlight-python"><pre>sudo python setup.py develop</pre>
</div>
</li>
<li><p class="first">Copy configuration files from etc directory to /etc/futuregrid or to ~/.fg/  and set them up (:ref:admin)</p>
</li>
</ul>
</div>
<div class="section" id="add-your-component-functionality-as-a-new-module">
<h2>Add Your Component Functionality as a New Module<a class="headerlink" href="#add-your-component-functionality-as-a-new-module" title="Permalink to this headline">¶</a></h2>
<p>Next, we explain the steps needed to include a new module in the FutureGrid shell. As an example, we use the
repository module, called &#8220;repo&#8221;</p>
<ol class="arabic">
<li><p class="first">Create a file to develop your functionality. This file will be called fgShellRepo.py and will be located in
src/futuregrid/shell/ (change Repo with your module name). The file includes a class with the same name that inherits
from cmd2. See the fgShellRepo.py file for more details.</p>
</li>
<li><p class="first">Add your methods that has to be like &#8220;do_&lt;module&gt;&lt;method&gt;&#8221; i.e. do_repoget. In this way, in the shell we will have a
command called repoget. You can also include a method called help_repoget that show information when execute &#8220;help repoget&#8221;
in the shell.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These methods will not have functionality. They only are a new command line interface for your existing methods.
In the repository example, the functionality is in the class IRServiceProxy.</p>
</div>
</li>
<li><p class="first">Go to file fgCLI.py and make the fgShell class to inherit from your class. For that you have to do three steps</p>
<ul>
<li><p class="first">Import your class.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">futuregrid.shell.fgShellRepo</span> <span class="kn">import</span> <span class="n">fgShellRepo</span>
</pre></div>
</div>
</li>
<li><p class="first">Add it to the fgShell class.</p>
<div class="highlight-python"><pre>classfgShell(Cmd,
             fgShellUtils,
             fgShellRepo):</pre>
</div>
</li>
<li><p class="first">We have the list of available commands in a set called self.env to determine the available contexts (each module
will have a context, see section Contexts). Here you have to add the name of your context as a string. This variable
is in the constructor of the class fgShell (__init__(...)) and looks like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;repo&quot;</span><span class="p">,</span><span class="s">&quot;rain&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">In the constructor we also have to write some information about the module.</p>
<div class="highlight-python"><pre>self.text = {'repo': 'Image Repository,
             'rain': 'FG Dynamic Provisioning'}</pre>
</div>
</li>
<li><p class="first">Next, we have to specify the modules that are required for the new. In this way, we only initialize the components
that the user needs. This is done in the do_use method (see next section Contexts) of the fgCLI.py file. Thus, we need
to add a condition and a list of requirements that the new module has. Note that the requirements strings MUST be as in
the name of the classes that usually have the first character in uppercase.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="n">arg</span><span class="o">==</span><span class="s">&quot;repo&quot;</span><span class="p">):</span>
   <span class="n">requirements</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;Repo&quot;</span><span class="p">]</span>
<span class="k">elif</span> <span class="p">(</span><span class="n">arg</span> <span class="o">==</span> <span class="s">&quot;rain&quot;</span><span class="p">):</span>
   <span class="n">requirements</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;Repo&quot;</span><span class="p">,</span><span class="s">&quot;Image&quot;</span><span class="p">,</span><span class="s">&quot;Rain&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">Attention to the arguments of your methods. No matter how many arguments you have, all them are sent in a unique string.
Then, in your method you have to get them by using the  “getArgs(in: string): list” method, that is in the fgShellUtils class.</p>
</li>
<li><p class="first">In your class (fgShellRepo in this example) you will have an  __init__ method to initialize your module. However, it will
be called only if you change to your module&#8217;s context, see next Section.</p>
</li>
</ol>
</div>
<div class="section" id="contexts">
<h2>Contexts<a class="headerlink" href="#contexts" title="Permalink to this headline">¶</a></h2>
<p>We have created contexts make easier the use of the FutureGrid commands by removing the prefix of your module. For that we have
the show and use command. The show command list the available contexts and the use command change to a particular context. In this
way, we can change to the repo context by executing “use repo”. Note that the prompt change from “fg&gt;” to “fg-repo&gt;” Now, the get
command point to the repoget command.</p>
<p>We have already done several steps focused to enable the context. Here, we explain some other optional steps, but highly
recommendable. All this is done in the fgShellUtils.py file.</p>
<ol class="arabic">
<li><p class="first">If your have a command that is already in this class, you do not need to add anything to it.</p>
</li>
<li><p class="first">If your command is not in this class, you can add it by creating a method. For example, let assume that you have a hello method.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">do_hello</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic get command that changes its behavior depending on the</span>
<span class="sd">    context specified with use command.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_use</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span><span class="p">):</span>
        <span class="n">found</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_requirements</span><span class="p">:</span>
            <span class="n">prefix</span><span class="o">=</span><span class="n">string</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">command</span> <span class="o">=</span> <span class="s">&quot;self.do_&quot;</span> <span class="o">+</span> <span class="n">prefix</span> <span class="o">+</span> <span class="s">&quot;hello(</span><span class="se">\&quot;</span><span class="s">&quot;</span> <span class="o">+</span> <span class="n">args</span> <span class="o">+</span> <span class="s">&quot;</span><span class="se">\&quot;</span><span class="s">)&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">eval</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                <span class="n">found</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;There is no hello method in any of the active contexts (&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">requirements</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot; )&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generic_error</span><span class="p">()</span>

<span class="n">help_hello</span> <span class="o">=</span> <span class="n">generic_help</span>
</pre></div>
</div>
</li>
<li><p class="first">This code will call a different method depending of the context. If your context is &#8220;repo&#8221;, you need to have a method called
do_repohello(args) in your fgShellRepo class.</p>
</li>
</ol>
</div>
<div class="section" id="log-file">
<h2>Log File<a class="headerlink" href="#log-file" title="Permalink to this headline">¶</a></h2>
<p>We have created a log file system to be use in the Shell. To use it, you only need to import the fgLog.py file:</p>
<p>from futuregrid.utils import fgLog
Then you can write in the logs using any of this methods:</p>
<div class="highlight-python"><pre>fgLog.degug(“text”)
fgLog.error(“text”)
fgLog.warning(“text”)
fgLog.info(“text”)</pre>
</div>
<p>The log file will be store in log file specified in the &#8220;fg-shell&#8221; section of the fg-client.conf configuration file. This file
is placed in /etc/futuregrid/ or in ~/.fg/</p>
</div>
<div class="section" id="commit-the-changes">
<h2>Commit the Changes<a class="headerlink" href="#commit-the-changes" title="Permalink to this headline">¶</a></h2>
<p>After you have created your new module, you need to push your branch into github and request to merge it with the official dev branch.</p>
<ol class="arabic">
<li><p class="first">Upload new branch to github</p>
<div class="highlight-python"><pre>git push origin &lt;branch_name&gt;</pre>
</div>
</li>
<li><p class="first">Send us a message via github to merge the code</p>
</li>
</ol>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2011, Developed for FutureGrid by Javier Diaz, Fugang Wang, Gregor von Laszewski.<br/>
    </p>
  </div>
</footer>
  </body>
</html>
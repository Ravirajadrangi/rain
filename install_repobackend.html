
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing Image Repository Backends &mdash; FutureGrid Rain 1.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-2.3.0/css/bootstrap-responsive.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-2.3.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="FutureGrid Rain 1.0.1 documentation" href="index.html" />
    <link rel="up" title="Rain Documentation" href="documentation.html" />
    <link rel="next" title="Configuration file reference" href="config_ref_index.html" />
    <link rel="prev" title="Setting up the FutureGrid Software" href="configure_futuregrid.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
<div class="container">
  
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="brand" href="index.html">FutureGrid Rain</a>
      <span class="navbar-text pull-left"><b>1.0.1</b></span>

      <div class="nav-collapse">
        <ul class="nav">
          <li class="divider-vertical"></li>
          
            <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whatis.html">What is FutureGrid Rain?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#summary">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#rain">Rain</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-management">Image Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-generation">Image Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-repository">Image Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="whatis.html#image-registration">Image Registration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Rain QuickStart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#fg-shell-vs-command-line-interfaces">FG-Shell vs Command Line Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-image-repository">Using Image Repository</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#upload-an-image">Upload an image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#get-an-image">Get an image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#modify-the-metadata-of-an-image">Modify the metadata of an image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#query-image-repository">Query Image Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#add-user-to-the-image-repository">Add user to the Image Repository</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-image-generation">Using Image Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#generate-a-centos-image">Generate a CentOS image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#generate-an-ubuntu-image">Generate an Ubuntu image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-image-registration">Using Image Registration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#list-information-of-the-available-sites">List Information of the available sites</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#register-an-image-for-the-hpc-infrastructure-india">Register an image for the HPC Infrastructure India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#register-an-image-for-openstack">Register an image for OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#customize-images-for-eucalyptus">Customize images for Eucalyptus</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#register-an-image-for-nimbus">Register an image for Nimbus</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#list-available-kernels-for-the-hpc-infrastructure-india">List available kernels for the HPC infrastructure India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#list-available-kernels-for-openstack">List available kernels for OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#deregister-an-image-from-openstack">Deregister an image from OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#deregister-an-image-from-hpc">Deregister an image from HPC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#using-rain">Using RAIN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-a-job-in-four-nodes-on-india">Run a job in four nodes on India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-a-job-in-two-nodes-on-india-using-an-image-already-registered-in-the-hpc-infrastructure-india">Run a job in two nodes on India using an image already registered in the HPC Infrastructure India</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#interactive-mode">Interactive mode.</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-an-mpi-job">Run an MPI job</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quickstart.html#hadoop-examples">Hadoop Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#id3">Interactive mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart.html#run-hadoop-on-hpc">Run Hadoop on HPC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="documentation.html">Rain Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="documentation.html#user-documentation">User Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="man-repo.html">Image Repository (fg-repo)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-repo.html#fg-repo">fg-repo</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-repo.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-generate.html">Image Generation (fg-generate)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-generate.html#fg-generate">fg-generate</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-generate.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-register.html">Image Registration (fg-register)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-register.html#fg-register">fg-register</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-register.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-rain.html">Rain (fg-rain)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-rain.html#fg-rain">fg-rain</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-rain.html#examples">Examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="man-rain.html#hadoop-examples">Hadoop Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="man-shell.html">FutureGrid Shell (fg-shell)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#fg-shell">fg-shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#generic-commands">Generic Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#image-repository">Image Repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#image-generation">Image Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#image-register">Image Register</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#rain">Rain</a></li>
<li class="toctree-l4"><a class="reference internal" href="man-shell.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="documentation.html#administrator-documentation">Administrator Documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="install.html">Installing FutureGrid Rain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-easy-install">Using <tt class="docutils literal"><span class="pre">easy_install</span></tt></a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-a-source-tarball">Using a source tarball</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#tracking-latest-code-from-github">Tracking latest code from GitHub</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configure_futuregrid.html">Setting up the FutureGrid Software</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#configuration-files">Configuration Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-ldap">Setting up LDAP</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#server-side">Server Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#client-side">Client Side</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-an-http-server">Setting up an http Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-image-repository">Setting up the Image Repository</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#imagerepo-config">Server Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#imagerepository-client-conf">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#image-repository-check-list">Image Repository Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-image-generator">Setting up the Image Generator</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id3">Server Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id4">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#image-generation-check-list">Image Generation Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-image-registrator">Setting up the Image Registrator</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#server-side-for-cloud-infrastructures">Server Side for Cloud infrastructures</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#server-side-for-hpc-infrastructures">Server Side for HPC infrastructures</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id5">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#image-registration-check-list">Image Registration Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-rain">Setting up the Rain</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#id6">Client Side</a></li>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#rain-check-list">Rain Check List</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="configure_futuregrid.html#setting-up-the-futuregrid-shell">Setting up the FutureGrid Shell</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configure_futuregrid.html#futuregrid-shell-check-list">FutureGrid Shell Check List</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Installing Image Repository Backends</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#deployment-of-mongodb">Deployment of MongoDB</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#install-mongodb-on-rhel">Install MongoDB on RHEL</a></li>
<li class="toctree-l5"><a class="reference internal" href="#install-mongodb-on-ubuntu-10-10">Install MongoDB on Ubuntu 10.10</a></li>
<li class="toctree-l5"><a class="reference internal" href="#install-mongodb-on-macosx">Install MongoDB on MacOSX</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#deployment-of-cumulus">Deployment of Cumulus</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deployment-of-mysql">Deployment of MySQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deployment-of-swift">Deployment of Swift</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="config_ref_index.html">Configuration file reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="config_ref_server.html"><tt class="docutils literal"><span class="pre">fg-server.conf</span></tt> configuration file</a><ul>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-ldap">Section <tt class="docutils literal"><span class="pre">[LDAP]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ldaphost">Option <tt class="docutils literal"><span class="pre">LDAPHOST</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ldapuser">Option <tt class="docutils literal"><span class="pre">LDAPUSER</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ldappass">Option <tt class="docutils literal"><span class="pre">LDAPPASS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-log">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-test">Option <tt class="docutils literal"><span class="pre">test</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-reposerver">Section <tt class="docutils literal"><span class="pre">[RepoServer]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-port">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-proc-max">Option <tt class="docutils literal"><span class="pre">proc_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-refresh">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-authorizedusers">Option <tt class="docutils literal"><span class="pre">authorizedusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-nopasswdusers">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-backend">Option <tt class="docutils literal"><span class="pre">backend</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id1">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-log-level">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-ca-cert">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-certfile">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-keyfile">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-restconffile">Option <tt class="docutils literal"><span class="pre">restConfFile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-cumulusmongo">Section <tt class="docutils literal"><span class="pre">[cumulusmongo]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-address">Option <tt class="docutils literal"><span class="pre">address</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-useradmin">Option <tt class="docutils literal"><span class="pre">userAdmin</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-configfile">Option <tt class="docutils literal"><span class="pre">configFile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-addresss">Option <tt class="docutils literal"><span class="pre">addressS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-useradmins">Option <tt class="docutils literal"><span class="pre">userAdminS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-configfiles">Option <tt class="docutils literal"><span class="pre">configFileS</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-imgstore">Option <tt class="docutils literal"><span class="pre">imgStore</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-generateserver">Section <tt class="docutils literal"><span class="pre">[GenerateServer]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id2">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id3">Option <tt class="docutils literal"><span class="pre">proc_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id4">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-wait-max">Option <tt class="docutils literal"><span class="pre">wait_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id5">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-vmfile-os-name">Option <tt class="docutils literal"><span class="pre">vmfile_&lt;os-name&gt;</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-xmlrpcserver">Option <tt class="docutils literal"><span class="pre">xmlrpcserver</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-bridge">Option <tt class="docutils literal"><span class="pre">bridge</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-addrnfs">Option <tt class="docutils literal"><span class="pre">addrnfs</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-tempdirserver">Option <tt class="docutils literal"><span class="pre">tempdirserver</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-tempdir">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-http-server">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-oneuser">Option <tt class="docutils literal"><span class="pre">oneuser</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-onepass">Option <tt class="docutils literal"><span class="pre">onepass</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id6">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id7">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id8">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id9">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id10">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-registerserverxcat">Section <tt class="docutils literal"><span class="pre">[RegisterServerXcat]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-xcat-port">Option <tt class="docutils literal"><span class="pre">xcat_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-xcatnetbootimgpath">Option <tt class="docutils literal"><span class="pre">xcatNetbootImgPath</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id11">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id12">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id13">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id14">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-test-mode">Option <tt class="docutils literal"><span class="pre">test_mode</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-default-xcat-kernel-os-name">Option <tt class="docutils literal"><span class="pre">default_xcat_kernel_&lt;os-name&gt;</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-auth-kernels-os-name">Option <tt class="docutils literal"><span class="pre">auth_kernels_&lt;os-name&gt;</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id15">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id16">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id17">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id18">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-max-diskusage">Option <tt class="docutils literal"><span class="pre">max_diskusage</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-protectedimg">Option <tt class="docutils literal"><span class="pre">protectedimg</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-registerservermoab">Section <tt class="docutils literal"><span class="pre">[RegisterServerMoab]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-moab-port">Option <tt class="docutils literal"><span class="pre">moab_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-moabinstallpath">Option <tt class="docutils literal"><span class="pre">moabInstallPath</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id19">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id20">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id21">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id22">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id23">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#section-registerserveriaas">Section <tt class="docutils literal"><span class="pre">[RegisterServerIaas]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id24">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id25">Option <tt class="docutils literal"><span class="pre">proc_max</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id26">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id27">Option <tt class="docutils literal"><span class="pre">nopasswdusers</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id28">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id29">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id30">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id31">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id32">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#id33">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_server.html#sections-iaas-such-as-iaas-india-or-iaas-sierra">Sections <tt class="docutils literal"><span class="pre">[Iaas-*]</span></tt> such as <tt class="docutils literal"><span class="pre">[Iaas-india]</span></tt> or <tt class="docutils literal"><span class="pre">[Iaas-sierra]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-description">Option <tt class="docutils literal"><span class="pre">description</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-default-infrastructure-name-kernel">Option <tt class="docutils literal"><span class="pre">default_&lt;infrastructure-name&gt;_kernel</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_server.html#option-infrastructure-name-auth-kernels">Option <tt class="docutils literal"><span class="pre">&lt;infrastructure-name&gt;_auth_kernels</span></tt></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="config_ref_client.html"><tt class="docutils literal"><span class="pre">fg-client.conf</span></tt> configuration file</a><ul>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-fg-shell">Section <tt class="docutils literal"><span class="pre">[fg-shell]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-history">Option <tt class="docutils literal"><span class="pre">history</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-log">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-log-level">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-script">Option <tt class="docutils literal"><span class="pre">script</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-ldap">Section <tt class="docutils literal"><span class="pre">[LDAP]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-ldaphost">Option <tt class="docutils literal"><span class="pre">LDAPHOST</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id1">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-test">Option <tt class="docutils literal"><span class="pre">test</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-repo">Section <tt class="docutils literal"><span class="pre">[Repo]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-port">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-serveraddr">Option <tt class="docutils literal"><span class="pre">serveraddr</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id2">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id3">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-ca-cert">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-certfile">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-keyfile">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-generation">Section <tt class="docutils literal"><span class="pre">[Generation]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id4">Option <tt class="docutils literal"><span class="pre">port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id5">Option <tt class="docutils literal"><span class="pre">serveraddr</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id6">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id7">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id8">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id9">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id10">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-register">Section <tt class="docutils literal"><span class="pre">[Register]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-xcat-port">Option <tt class="docutils literal"><span class="pre">xcat_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moab-port">Option <tt class="docutils literal"><span class="pre">moab_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-iaas-serveraddr">Option <tt class="docutils literal"><span class="pre">iaas_serveraddr</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-iaas-port">Option <tt class="docutils literal"><span class="pre">iaas_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-tempdir">Option <tt class="docutils literal"><span class="pre">tempdir</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-http-server">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id11">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id12">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id13">Option <tt class="docutils literal"><span class="pre">ca_cert</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id14">Option <tt class="docutils literal"><span class="pre">certfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id15">Option <tt class="docutils literal"><span class="pre">keyfile</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#sections-hpc-such-as-hpc-minicluster-and-hpc-india">Sections <tt class="docutils literal"><span class="pre">[Hpc-*]</span></tt> such as <tt class="docutils literal"><span class="pre">[Hpc-minicluster]</span></tt> and <tt class="docutils literal"><span class="pre">[Hpc-india]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-loginmachine">Option <tt class="docutils literal"><span class="pre">loginmachine</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moabmachine">Option <tt class="docutils literal"><span class="pre">moabmachine</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-xcatmachine">Option <tt class="docutils literal"><span class="pre">xcatmachine</span></tt></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="config_ref_client.html#section-rain">Section <tt class="docutils literal"><span class="pre">[Rain]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moab-max-wait">Option <tt class="docutils literal"><span class="pre">moab_max_wait</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-moab-images-file">Option <tt class="docutils literal"><span class="pre">moab_images_file</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-loginnode">Option <tt class="docutils literal"><span class="pre">loginnode</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id16">Option <tt class="docutils literal"><span class="pre">http_server</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#option-refresh">Option <tt class="docutils literal"><span class="pre">refresh</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id17">Option <tt class="docutils literal"><span class="pre">log</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_client.html#id18">Option <tt class="docutils literal"><span class="pre">log_level</span></tt></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="config_ref_restrepo.html">Image Repository Rest Interface configuration file</a><ul>
<li class="toctree-l5"><a class="reference internal" href="config_ref_restrepo.html#section-global">Section <tt class="docutils literal"><span class="pre">[Global]</span></tt></a><ul>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-log-error-file">Option <tt class="docutils literal"><span class="pre">log.error_file</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-log-accessfile">Option <tt class="docutils literal"><span class="pre">log.accessfile</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-socket-host">Option <tt class="docutils literal"><span class="pre">server.socket_host</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-socket-port">Option <tt class="docutils literal"><span class="pre">server.socket_port</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-thread-pool">Option <tt class="docutils literal"><span class="pre">server.thread_pool</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-ssl-module">Option <tt class="docutils literal"><span class="pre">server.ssl_module</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-ssl-certificate">Option <tt class="docutils literal"><span class="pre">server.ssl_certificate</span></tt></a></li>
<li class="toctree-l6"><a class="reference internal" href="config_ref_restrepo.html#option-server-ssl-private-key">Option <tt class="docutils literal"><span class="pre">server.ssl_private_key</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modules_india.html">Configuring a Module for FutureGrid Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="build_doc.html">Building the Rain Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#developer-documentation">Developer Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="dev_shell.html">FG-Shell Development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="dev_shell.html#requirement">Requirement</a></li>
<li class="toctree-l4"><a class="reference internal" href="dev_shell.html#add-your-component-functionality-as-a-new-module">Add Your Component Functionality as a New Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="dev_shell.html#contexts">Contexts</a></li>
<li class="toctree-l4"><a class="reference internal" href="dev_shell.html#log-file">Log File</a></li>
<li class="toctree-l4"><a class="reference internal" href="dev_shell.html#commit-the-changes">Commit the Changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#others">Others</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html">Changelog and Release Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id1">1.0.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="changelog.html#id2">1.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="download.html#sample-files">Sample files</a></li>
<li class="toctree-l2"><a class="reference internal" href="download.html#development-version">Development version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html#known-problems">Known problems</a></li>
</ul>
</ul>
</li>
            <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Installing Image Repository Backends</a><ul>
<li><a class="reference internal" href="#deployment-of-mongodb">Deployment of MongoDB</a><ul>
<li><a class="reference internal" href="#install-mongodb-on-rhel">Install MongoDB on RHEL</a></li>
<li><a class="reference internal" href="#install-mongodb-on-ubuntu-10-10">Install MongoDB on Ubuntu 10.10</a></li>
<li><a class="reference internal" href="#install-mongodb-on-macosx">Install MongoDB on MacOSX</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deployment-of-cumulus">Deployment of Cumulus</a></li>
<li><a class="reference internal" href="#deployment-of-mysql">Deployment of MySQL</a></li>
<li><a class="reference internal" href="#deployment-of-swift">Deployment of Swift</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          
          
            
  <li><a href="configure_futuregrid.html"
         title="previous chapter">&laquo; Setting up the FutureGrid Software</a></li>
  <li><a href="config_ref_index.html"
         title="next chapter">Configuration file reference &raquo;</a></li>
          
          
        </ul>

        
          
<form class="navbar-search pull-right" style="margin-bottom:-3px;" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

  
  <div class="section" id="installing-image-repository-backends">
<span id="chap-install-repobackend"></span><h1>Installing Image Repository Backends<a class="headerlink" href="#installing-image-repository-backends" title="Permalink to this headline">¶</a></h1>
<div class="section" id="deployment-of-mongodb">
<h2>Deployment of MongoDB<a class="headerlink" href="#deployment-of-mongodb" title="Permalink to this headline">¶</a></h2>
<p>In this section we are going to explain how to install a single MongoDB service. More information can be found in <a class="reference external" href="http://www.mongodb.org/">MongoDB</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In MongoDB the databases and tables are created automatically</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">MongoDB is case sensitive</p>
</div>
<div class="section" id="install-mongodb-on-rhel">
<h3>Install MongoDB on RHEL<a class="headerlink" href="#install-mongodb-on-rhel" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">For all 64-bit RPM-based distributions with yum, create the file <tt class="docutils literal"><span class="pre">/etc/yum.repos.d/10gen.repo</span></tt> and add the following lines:</p>
<blockquote>
<div><div class="highlight-python"><pre>[10gen]
name=10gen Repository
baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64
gpgcheck=0</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Install MongoDB</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo yum install mongo-*</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Create DB directory</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo mkdir -p /data/db/
sudo chown `id -u` /data/db     #The owner must be the user that is going to execute mongodb server</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Run MongoDB</p>
<blockquote>
<div><div class="highlight-python"><pre>mongod --port 23000 --dbpath /data/db/ --fork --logpath=/data/db/mongo.log</pre>
</div>
</div></blockquote>
</li>
</ul>
<p><strong>Rebuild spider monkey</strong></p>
<p>This is only needed if after running MongoDB you get warning message like this:</p>
<blockquote>
<div><div class="highlight-python"><pre>warning: some regex utf8 things will not work.  pcre build doesn't have --enable-unicode-properties</pre>
</div>
</div></blockquote>
<p>Rebuilding spider monkey from RHEL (<a class="reference external" href="http://www.mongodb.org/display/DOCS/Building+Spider+Monkey">Building Spider Monkey</a>).</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo yum erase xulrunner
sudo yum install curl
curl -O ftp://ftp.mozilla.org/pub/mozilla.org/js/js-1.7.0.tar.gz
tar zxvf js-1.7.0.tar.gz
cd js/src
export CFLAGS="-DJS_C_STRINGS_ARE_UTF8"
make -f Makefile.ref
JS_DIST=/usr make -f Makefile.ref export</pre>
</div>
</div></blockquote>
</div>
<div class="section" id="install-mongodb-on-ubuntu-10-10">
<h3>Install MongoDB on Ubuntu 10.10<a class="headerlink" href="#install-mongodb-on-ubuntu-10-10" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Add MongoDB repository to the aptitude soucers file <tt class="docutils literal"><span class="pre">/etc/apt/sources.list</span></tt>.</p>
<blockquote>
<div><div class="highlight-python"><pre>deb http://downloads.mongodb.org/distros/ubuntu 10.10 10gen</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Install MongoDB</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
sudo apt-get update
sudo apt-get install mongodb-stable</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Create DB directory</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo mkdir -p /data/db/
sudo chown `id -u` /data/db
Run MongoDB
mongod --port 23000 --dbpath /data/db/ --fork --logpath=/data/db/mongo.log</pre>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="install-mongodb-on-macosx">
<h3>Install MongoDB on MacOSX<a class="headerlink" href="#install-mongodb-on-macosx" title="Permalink to this headline">¶</a></h3>
<p>Via homebrew (<a class="reference external" href="http://www.mongodb.org/display/DOCS/Quickstart+OS+X">MongoDB OSX</a>)</p>
<ul>
<li><p class="first">Install homebrew if you have not yet done</p>
<blockquote>
<div><div class="highlight-python"><pre>ruby -e "$(curl -fsSLk https://gist.github.com/raw/323731/install_homebrew.rb)"</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Install mongodb via homebrew</p>
<blockquote>
<div><div class="highlight-python"><pre>brew update
brew install mongodb</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Create DB directory</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo mkdir -p /data/db/
sudo chown `id -u` /data/db</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Run MongoDB</p>
<blockquote>
<div><div class="highlight-python"><pre>/usr/local/Cellar/mongodb/1.6.5-x86_64/bin/mongod --port 23000 --dbpath /data/db/ --fork --logpath=/data/db/mongo.log</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Work with client by executing mongo localhost:23000 in a different terminal</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">db</span><span class="o">.</span><span class="n">foo</span><span class="o">.</span><span class="n">save</span> <span class="p">(</span> <span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span> <span class="p">)</span>
<span class="n">db</span><span class="o">.</span><span class="n">foo</span><span class="o">.</span><span class="n">find</span> <span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">In case you use macports, replace two first steps with</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo port install mongodb</pre>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="deployment-of-cumulus">
<h2>Deployment of Cumulus<a class="headerlink" href="#deployment-of-cumulus" title="Permalink to this headline">¶</a></h2>
<p>In this section we are going to explain how to install and configure Cumulus. More information can be found in <a class="reference external" href="http://www.nimbusproject.org/">Nimbus Project</a></p>
<ul>
<li><p class="first">Check the dependencies from the <a class="reference external" href="http://www.nimbusproject.org/docs/2.8/admin/z2c/service-dependencies.html">Cumulus Requirements</a>.</p>
</li>
<li><p class="first">Download and Install the software</p>
<blockquote>
<div><div class="highlight-python"><pre>wget http://www.nimbusproject.org/downloads/nimbus-iaas-2.9-src.tar.gz

tar vxfz nimbus-iaas-2.9-src.tar.gz
cd nimbus-iaas-2.9-src/cumulus
sudo mkdir /opt/cumulus
sudo chown -R user:user /opt/cumulus
./cumulus-install.sh /opt/cumulus/
mkdir ~/.nimbus
cp /opt/cumulus/etc/cumulus.ini ~/.nimbus</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Test the software</p>
<blockquote>
<div><div class="highlight-python"><pre>cd /opt/cumulus/tests
./run-all.sh</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Run service</p>
<blockquote>
<div><div class="highlight-python"><pre>/opt/cumulus/bin/cumulus &amp;</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Create user</p>
<blockquote>
<div><div class="highlight-python"><pre>/opt/cumulus/bin/cumulus-add-user javi</pre>
</div>
</div></blockquote>
<ul>
<li><p class="first">Output:</p>
<blockquote>
<div><div class="highlight-python"><pre>ID : eqe0YoRAs2GT1sDvPZKAU
password : S9Ii7QqcCQxDecrezMn6o5frSFvXhThYWmCE4S7nAf
quota : None
canonical_id : 048db304-6b4c-11df-897b-001de0a80259</pre>
</div>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remember the <tt class="docutils literal"><span class="pre">ID</span></tt> and <tt class="docutils literal"><span class="pre">password</span></tt> to fill out the fg-server.conf file (the <tt class="docutils literal"><span class="pre">ID</span></tt> will be the <tt class="docutils literal"><span class="pre">userAdminS</span></tt> and the <tt class="docutils literal"><span class="pre">password</span></tt> will be in
the file specified in <tt class="docutils literal"><span class="pre">configfileS</span></tt>). More details can be found in <a class="reference internal" href="configure_futuregrid.html#imagerepo-config"><em>Configure Image Repository</em></a>.</p>
</div>
<ul class="simple">
<li>More Information<ul>
<li><a class="reference external" href="http://www.nimbusproject.org/docs/2.9/faq.html#cumulusnonimbus">Cumulus F.A.Q.</a></li>
<li><a class="reference external" href="http://www.mcs.anl.gov/~bresnaha/cumulus/cumulusinst.html">Cumulus Video</a></li>
<li><a class="reference external" href="http://www.nimbusproject.org/docs/2.9/admin/reference.html#cumulus">Cumulus Administrator Reference</a></li>
<li><a class="reference external" href="ttps://github.com/nimbusproject/nimbus/blob/master/cumulus/docs/QUICKSTART.txt">Cumulus Quickstarth</a></li>
<li><a class="reference external" href="https://github.com/nimbusproject/nimbus/blob/master/cumulus/docs/README.txt">Cumulus Readme</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="deployment-of-mysql">
<h2>Deployment of MySQL<a class="headerlink" href="#deployment-of-mysql" title="Permalink to this headline">¶</a></h2>
<p>In this section we are going to explain how to install and configure MySQL.</p>
<ul>
<li><p class="first">Installing MySQL</p>
<blockquote>
<div><div class="highlight-python"><pre>apt-get install mysql-client mysql-common mysql-server

or

yum install mysql mysql-server mysql-devel</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Login into Mysql</p>
<blockquote>
<div><div class="highlight-python"><pre>mysql -u root -p</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Create User that will manage the image repository databases</p>
<blockquote>
<div><div class="highlight-python"><pre>CREATE USER 'IRUser'@'localhost' IDENTIFIED BY 'complicatedpass';</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Create databases. The name of the database is different depending on the configuration selected in the Image Repository (see <a class="reference internal" href="configure_futuregrid.html#imagerepo-config"><em>Configure Image Repository</em></a>).</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="24%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">Backend option</p>
</th>
<th class="head"><p class="first last">Database Name</p>
</th>
<th class="head"><p class="first last">Command to create the Database</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><p class="first last">mysql</p>
</td>
<td><p class="first last">images</p>
</td>
<td><p class="first last">create database images;</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">swiftmysql</p>
</td>
<td><p class="first last">imagesS</p>
</td>
<td><p class="first last">create database imagesS;</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last">cumulusmysql</p>
</td>
<td><p class="first last">imagesC</p>
</td>
<td><p class="first last">create database imagesC;</p>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p class="first">Create the tables for the selected database. This example is with the <tt class="docutils literal"><span class="pre">images</span></tt> databases. You will need to do the same with the others if you plan to use
these storage configurations.</p>
<ul>
<li><p class="first">Select the database to be used</p>
<blockquote>
<div><div class="highlight-python"><pre>use images;</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Create tables</p>
<blockquote>
<div><div class="highlight-python"><pre>create table meta ( imgId varchar(100) primary key, os varchar(100), arch varchar(100), owner varchar(100), description varchar(200),
    tag varchar(200), vmType  varchar(100), imgType varchar(100), permission varchar(100), imgStatus varchar(100) );

create table data ( imgId varchar(100) primary key, imgMetaData varchar(100), imgUri varchar(200), createdDate datetime, lastAccess datetime,
     accessCount long, size long, extension varchar (50), FOREIGN KEY (imgMetaData) REFERENCES meta(imgId) ON UPDATE CASCADE ON DELETE CASCADE );

create table users (userId varchar(100) primary key, cred varchar(200), fsCap long, fsUsed long, lastLogin datetime, status varchar(100),
     role varchar(100), ownedimgs long);</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Give all permission to the user created</p>
<blockquote>
<div><div class="highlight-python"><pre>GRANT ALL PRIVILEGES ON images.* TO 'IRUser' IDENTIFIED BY 'userpassword';</pre>
</div>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remember the <tt class="docutils literal"><span class="pre">userId</span></tt> (<tt class="docutils literal"><span class="pre">IRUser</span></tt>) and <tt class="docutils literal"><span class="pre">password</span></tt> (<tt class="docutils literal"><span class="pre">userpassword</span></tt>) to fill out the fg-server.conf file (the <tt class="docutils literal"><span class="pre">userId</span></tt> will be the <tt class="docutils literal"><span class="pre">userAdmin</span></tt> and
the <tt class="docutils literal"><span class="pre">password</span></tt> will be in the file specified in <tt class="docutils literal"><span class="pre">configfile</span></tt>). More details can be found in <a class="reference internal" href="configure_futuregrid.html#imagerepo-config"><em>Configure Image Repository</em></a>.</p>
</div>
</div>
<div class="section" id="deployment-of-swift">
<h2>Deployment of Swift<a class="headerlink" href="#deployment-of-swift" title="Permalink to this headline">¶</a></h2>
<p>OpenStack provides some manuals to explain how to deploy Swift.</p>
<ul class="simple">
<li>Manual to deploy a <a class="reference external" href="http://swift.openstack.org/development_saio.html">Test Infrastructure</a>.</li>
<li>Manual to deploy a <a class="reference external" href="http://swift.openstack.org/howto_installmultinode.html">Multi-Node Infrastructure</a>. In this case, we recommend
installing the proxy server in the same machine where the Image Repository is installed.</li>
</ul>
<p><strong>Notes for RHEL 5</strong></p>
<ul>
<li><p class="first">Install Python 2.6</p>
<blockquote>
<div><div class="highlight-python"><pre>sudo rpm -Uvh http://yum.chrislea.com/centos/5/i386/chl-release-5-3.noarch.rpm
sudo rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-CHL
sudo yum install python26
sudo yum install python26-devel

or

sudo wget ftp://ftp.univie.ac.at/systems/linux/fedora/epel/5/i386/epel-release-5-4.noarch.rpm
sudo rpm -Uvh epel-release-5-4.noarch.rpm
sudo yum install python26
sudo yum install python26-devel</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Setuptools</p>
<blockquote>
<div><div class="highlight-python"><pre>yum install python26-distribute</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Install python modules</p>
<blockquote>
<div><div class="highlight-python"><pre>easy_install-2.6 netifaces eventlet setuptools virtualenv paste PasteDeploy webob pysqlite uuid xattr repoze.what configobj coverage formencode
netifaces nose paramiko paste pastedeploy pastescript scgi</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Install sqlite3</p>
<blockquote>
<div><div class="highlight-python"><pre>wget http://dl.atrpms.net/el5-x86_64/atrpms/testing/sqlite-3.6.20-1.el5.x86_64.rpm
wget http://dl.atrpms.net/el5-x86_64/atrpms/testing/sqlite-devel-3.6.20-1.el5.x86_64.rpm
rpm -Uvh sqlite-3.6.20-1.el5.x86_64.rpm sqlite-devel-3.6.20-1.el5.x86_64.rpm</pre>
</div>
</div></blockquote>
</li>
<li><p class="first">Differences with the Swift manuals for the &#8220;Storage nodes&#8221;</p>
<ul>
<li><p class="first">Step 4. /etc/xinetd.d/rsync to enable it</p>
</li>
<li><p class="first">Step 5. service xinetd restart</p>
</li>
<li><p class="first">Iptable config (/etc/sysconfig/iptalbes). Add this:</p>
<div class="highlight-python"><pre>-A RH-Firewall-1-INPUT -p udp -m udp --dport 6000 -j ACCEPT
-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 6000 -j ACCEPT
-A RH-Firewall-1-INPUT -p udp -m udp --dport 6001 -j ACCEPT
-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 6001 -j ACCEPT
-A RH-Firewall-1-INPUT -p udp -m udp --dport 6002 -j ACCEPT
-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 6002 -j ACCEPT</pre>
</div>
</li>
<li><p class="first">If you don&#8217;t have another partition, you can create a file. In this case we don&#8217;t have xfs support, so we use ext3</p>
<div class="highlight-python"><pre>dd if=/dev/zero of=/srv/swift-disk bs=1024 count=0 seek=20000000
mkfs.ext3 /srv/swift-disk</pre>
</div>
</li>
<li><p class="first">Edit /etc/fstab and add</p>
<div class="highlight-python"><pre>/srv/swift-disk /srv/node/sdb1 ext3  loop,noatime,user_xattr 0 0</pre>
</div>
</li>
<li><p class="first">Mount it</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mount</span> <span class="o">/</span><span class="n">srv</span><span class="o">/</span><span class="n">swift</span><span class="o">-</span><span class="n">disk</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remember the <tt class="docutils literal"><span class="pre">userId:usergroup</span></tt> and <tt class="docutils literal"><span class="pre">password</span></tt> to fill out the fg-server.conf file (the <tt class="docutils literal"><span class="pre">userId:usergroup</span></tt> will be the <tt class="docutils literal"><span class="pre">userAdminS</span></tt> and the <tt class="docutils literal"><span class="pre">password</span></tt> will be in
the file specified in <tt class="docutils literal"><span class="pre">configfileS</span></tt>). More details can be found in <a class="reference internal" href="configure_futuregrid.html#imagerepo-config"><em>Configure Image Repository</em></a>. Swift users are defined in
the file <tt class="docutils literal"><span class="pre">/etc/swift/proxy-server.conf</span></tt>.</p>
</div>
</div>
</div>


</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2011, Developed for FutureGrid by Javier Diaz, Fugang Wang, Gregor von Laszewski.<br/>
    </p>
  </div>
</footer>
  </body>
</html>